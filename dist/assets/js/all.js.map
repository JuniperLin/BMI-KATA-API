{"version":3,"sources":["all.js"],"names":["bmiKataApi","mebList","document","querySelector","gpList","gpCardNum","gpFilterBtn","gpFilterCard","gpFilterList","avgTime","fullMebData","sortData","newData","gpData","axios","get","then","response","data","getNewData","getgpData","dataSort","addGpFilterList","renderGpList","renderMebList","arr","forEach","item","obj","timestamp","slackName","jsGroup","youtubeUrl","haveTen","codepenUrl","practiceMinute","practiceSecond","totalTime","parseInt","push","sortGroupData","reduce","acc","el","groupNum","groupPeople","Object","values","sort","a","b","timeA","timeB","addEventListener","e","className","setAttribute","str","index","innerHTML","gpNumber","gpAvgTime","length","toFixed","target","firstChild","nodeValue"],"mappings":"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","file":"all.js","sourcesContent":["const bmiKataApi = \"https://raw.githubusercontent.com/hexschool/js-traninging-week6API/main/data.json\";\nconst mebList = document.querySelector(\".meb-list\");\nconst gpList = document.querySelector(\".gp-list\");\nconst gpCardNum = document.querySelector(\".group-num\");\nconst gpFilterBtn = document.querySelector(\"#gp-filter-btn\");\nconst gpFilterCard = document.querySelector(\"#gp-filter-card\");\nconst gpFilterList = document.querySelector(\".group-filter-list\");\nconst avgTime = document.querySelector(\".avg-time\");\n\nlet fullMebData = []; // 全部資料\nlet sortData = []; // 由 -時間- 快到慢排列資料\nlet newData = []; // 整理後資料\nlet gpData = []; // 各組人員資料\n\n\n\n// 取的資料\naxios.get(bmiKataApi)\n    .then(function(response){\n        fullMebData = response.data;\n        getNewData();\n        getgpData();\n        dataSort();\n        addGpFilterList();\n        renderGpList(1);\n        renderMebList();\n    });\n\n// 新資料\nfunction getNewData(){\n    let arr = [];\n    fullMebData.forEach(function(item){\n        // console.log(item)\n        let obj = {};\n        obj.timestamp = item.timestamp;\n        obj.slackName = item.slackName;\n        obj.jsGroup = item.jsGroup;\n        obj.youtubeUrl = item.youtubeUrl;\n        obj.haveTen = item.haveTen;\n        obj.codepenUrl = item.codepenUrl;\n        obj.practiceMinute = item.practiceMinute;\n        obj.practiceSecond = item.practiceSecond;\n        obj.totalTime = parseInt(item.practiceMinute * 60) + parseInt(item.practiceSecond);\n        arr.push(obj);\n    })\n    newData = arr;\n};\n\n// \b分類組別名單    \nfunction getgpData(){\n    let sortGroupData = newData.reduce((acc, el) => {\n        let groupNum = el.jsGroup;\n        if (!acc[groupNum]) acc[groupNum] = {groupNum, groupPeople: [el]}\n        else acc[groupNum].groupPeople.push(el);\n        return acc;\n    }, {});\n    gpData = Object.values(sortGroupData) ;\n};\n\n// 完成速度排名\nfunction dataSort(){\n    // 以時間快慢排序\n    sortData = fullMebData.sort(function(a,b){\n        let timeA = parseInt(a.practiceMinute) * 60 + parseInt(a.practiceSecond);\n        let timeB = parseInt(b.practiceMinute) * 60 + parseInt(b.practiceSecond);\n        return timeA - timeB;\n    });\n};\n\n// toggle 清單 加上 class\ngpFilterBtn.addEventListener('click', function(e){\n    if (gpFilterCard.className == \"card p-0 hide-card\") {\n        gpFilterCard.setAttribute('class', \"card p-0\")\n    } else {\n        gpFilterCard.setAttribute('class', \"card p-0 hide-card\")\n    };\n});\n\n// 渲染組別號碼選單\nfunction addGpFilterList(){\n    let str = \"\";\n    gpData.forEach(function (item, index) {\n        // console.log(item)\n        if (index == 0) {\n            str += \n            `\n            <a class=\"nav-link selected\" href=\"#\">${item.groupNum}</a>\n            `\n        } else if (index > 0 && index < 27) {\n            str += \n            `\n            <a class=\"nav-link\" href=\"#\">${item.groupNum}</a>\n            `\n        } else if (index == 27) {\n            str += \n            `\n            <a class=\"nav-link\" href=\"#\">${item.groupNum}</a>\n            ` \n        };\n    });\n    gpFilterList.innerHTML = str;\n};\n\n// 渲染分組人員 & 平均時間\nfunction renderGpList(gpNumber){\n    let str = \"\";\n    let arr = [];\n    let gpAvgTime = 0;\n    newData.forEach(function(item){\n        if (gpNumber == item.jsGroup) {\n            str +=\n            `\n            <tr>\n                <td id=\"self-rank\"></td>\n                <td id=\"slack-id\">${item.slackName}</td>\n                <td id=\"ten-times\">${item.haveTen !== \"是\"? `${item.haveTen}`: `<span class=\"material-icons-outlined\">check_circle</span>`}</td>\n                <td id=\"codepen-url\"><a href=\"${item.codepenUrl}\"><i class=\"fab fa-codepen h3 mb-0\"></i></a></td>\n                <td id=\"mins\">${item.practiceMinute}</td>\n                <td id=\"secs\">${item.practiceSecond}</td>\n            </tr>\n            `;\n            gpCardNum.innerHTML = `GROUP <br> ${item.jsGroup}`;\n            gpAvgTime += ((parseInt(item.practiceMinute)) * 60 + parseInt(item.practiceSecond));\n            arr.push(item)\n        };\n    });\n    gpList.innerHTML = str;\n    avgTime.innerHTML = `AVARAGE TIME: ${(gpAvgTime / arr.length).toFixed(0)}s`;\n};\n\n// 篩選出對應的組別號碼\ngpFilterList.addEventListener(\"click\", function(e){\n    renderGpList(e.target.firstChild.nodeValue);\n});\n\n// 渲染全部表單人員\nfunction renderMebList(){\n    let str = \"\";\n    newData.forEach(function(item){\n        str += \n        `\n        <tr>\n            <td id=\"self-rank\"></td>\n            <td id=\"date\">${item.timestamp}</td>\n            <td id=\"slack-id\">${item.slackName}</td>\n            <td id=\"group\" class=\"text-align-center\">${item.jsGroup}</td>\n            <td id=\"youtube-url\" class=\"text-align-center\">${item.youtubeUrl !== \"\"? `<a href=\"${item.youtubeUrl}\"><i class=\"fab fa-youtube h3 mb-0\"></i></a>`: `<span class=\"material-icons-round\">play_disabled</span>`}</td>\n            <td id=\"ten-times\" class=\"text-align-center\">${item.haveTen !== \"是\"? `${item.haveTen}`: `<span class=\"material-icons-outlined\">check_circle</span>`}</td>\n            <td id=\"codepen-url\" class=\"text-align-center\"><a href=\"${item.codepenUrl}\"><i class=\"fab fa-codepen h3 mb-0\"></i></a></td>\n            <td id=\"mins\" class=\"text-align-center\">${item.practiceMinute}</td>\n            <td id=\"secs\" class=\"text-align-center\">${item.practiceSecond}</td>\n        </tr>\n        `\n    });\n    mebList.innerHTML = str;\n};\n\n"]}